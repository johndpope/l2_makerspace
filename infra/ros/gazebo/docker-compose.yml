version: '2.3'

services:
  talker:
    image: l2base:latest
    command: ros2 run demo_nodes_cpp talker
  listener:
    image: l2base:latest
    command: /bin/bash -c "ros2 topic echo /chatter"
    environment: 
      PYTHONUNBUFFERED: 1
    depends_on:
      - talker
  gz:
    #extends:
    #  file: docker-compose.gpu.yml
    #  service: gpu
    container_name: gazebo9
    volumes:
      - /tmp/tf:/tf
    image: gazebo:gzserver9
